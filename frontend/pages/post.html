<!-- post.html -->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Post</title>

    <!-- Bootstrap & Icons -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">

    <!-- Custom CSS -->
    <link rel="stylesheet" href="assets/css/global.css">
    <link rel="stylesheet" href="assets/css/navbar.css">
    <link rel="stylesheet" href="assets/css/cards.css">
    <link rel="stylesheet" href="assets/css/buttons.css">
    <link rel="stylesheet" href="assets/css/dark-mode.css">
</head>

<body class="d-flex flex-column min-vh-100">
    <!-- Header -->
    <div class="foundify2 d-flex justify-content-between align-items-center w-100 p-2">
        <i class="bi bi-chevron-left" onclick="window.history.back();" style="cursor: pointer;"></i>
        <a class="text-center flex-grow-1 fw-bold m-0">Foundify</a>
        <i class="bi bi-flag-fill" onclick="window.location.href='report.html';" class="ms-auto pe-3"></i>
    </div>

    <!-- Main Content -->
    <div class="container flex-grow-1 py-4">
        <h1 id="postTitle" class="fw-bold text-center pb-3"></h1>
        <div class="card backgroundCard p-3">
            <img id="postImage" class="card-img-top mx-auto d-block" style="border-radius: 15px;" alt="Item Image">
            <div class="card-body">
                <h2 class="card-title">Description</h2>
                <p id="postSubtitle" class="card-text">Loading...</p>
                <div class="d-flex align-items-center">
                    <i class="bi bi-calendar-fill text-info me-2"></i>
                    <span id="postDate">Loading...</span>
                </div>
                <div class="d-flex align-items-center mt-2">
                    <i class="bi bi-geo-alt-fill text-info me-2"></i>
                    <span id="postLocation">Loading...</span>
                </div>
                <div id="postPostedDateTime" class="my-textPost mt-3"></div>
                <div id="app" class="mt-4">
                    <button id="contactButton" class="btn btn-primary">Contact</button>
                    <div id="contactBox" class="contact-box">
                        <button class="btn btn-secondary" onclick="toggleContact()">Hide</button>
                        <h5>Contact</h5>
                        <p>Email: founder@example.com</p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer mt-auto py-3 bg-light">
        <div class="container d-flex justify-content-around">
            <a href="home.html" id="homeLink" class="footer-icon"><i class="bi bi-house-door-fill"></i></a>
            <a href="search.html" id="searchLink" class="footer-icon"><i class="bi bi-search-heart-fill"></i></a>
            <a href="add.html" id="addLink" class="footer-icon"><i class="bi bi-plus-circle-fill"></i></a>
            <a href="signup_login.html" id="setLink" class="footer-icon"><i class="bi bi-person-fill"></i></a>
        </div>
    </footer>

    <!-- JavaScript -->
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            function getQueryParam(param) {
                return new URLSearchParams(window.location.search).get(param) || 'ข้อมูลไม่พบ';
            }

            document.getElementById("postImage").src = "/image/" + getQueryParam("image");
            document.getElementById("postTitle").textContent = getQueryParam("title");
            document.getElementById("postSubtitle").textContent = getQueryParam("subtitle");
            document.getElementById("postDate").textContent = getQueryParam("date");
            document.getElementById("postLocation").textContent = getQueryParam("location");
            document.getElementById("postPostedDateTime").innerHTML = `<i class="bi bi-clock-fill me-2"></i> โพสต์เมื่อ: ${getQueryParam("postedDateTime")}`;
        });
    </script>

    <script src="darkMode.js"></script>
    <script src="js/post.js"></script>
</body>

</html>
